
<html >
<head>
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
		body{
		background-color: #13293b;
		color: white;

		}
		h2 {
			text-align: center;
			margin-top: 15px;	
		}
		#solution{   
			text-align: center;
			margin-top: 25px;
		}
    	.box{
    		width: 30px;
    		height: 30px;
    		display: inline-block;
    		margin: 1px;
    		cursor: pointer;
			transition: transform 1s;
    	}

		.box.big{
			animation: 2s linear 0s infinite alternate big-small;
		}

    	@media screen and (max-device-width: 431px) {
		  .box {
		    width: 40px;
    		height: 40px;
		  }
		}

		@media screen and (min-device-width: 431px) and (max-device-width: 1024px) {
		  .box {
		    width: 35px;
    		height: 35px;
		  }
		}

		@keyframes big-small {
			from {
				transform: scale(1);
			}
			to {
				transform: scale(1.5);
			}
		}
    </style>
</head>
<body>
<h2> Finde die sich nicht ändernde rote Box.</h2>
<div id="box-container"></div>
<h3 id="solution" style="cursor: pointer;">Zeige Lösung <span id="show-solution"></span></h3>	

 <script> 
	prompt("Bitte gebe deinen Namen ein!")
	var width = window.innerWidth -38;
	var boxesInRow = (width / 30).toFixed() -1;
 	var amount = boxesInRow *4;	
 	var target = 1;
 	var targetColor = 'red';

 	function setColors () {
 		$(".box").each(function (index) {
        	if(index != target){
            	$(this).css("background-color", getRandomColor());
				$(this).removeClass("target");
            }else{
            	$(this).css("background-color", targetColor);
				$(this).addClass("target");
            }
        });
 	}

 	 function getRandomColor() {
        var letters = '0123456789ABCDEF';
        var color = '#';
        for (var j = 0; j < 6; j++) {
            color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
    }

 	function load(){
		target = (Math.random() * amount ).toFixed();

	    $("#solution" ).on("click",function() {
	        $("#show-solution" ).text(target);
			$(".target" ).addClass("big");
	    });

		$("#box-container").empty();

	    for (var i =  0; i < amount; i = i + 1) {
			$("#box-container").append('<div class="box"></div>');
	    }

		setColors();

	    $(".box" ).on("click",function() {
	    	if ( $(this).index() == target){
				alert('Richtig!');
				amount = amount + boxesInRow * 4;
				clearInterval(intervalID);
				$("#show-solution" ).text("");
				load();
	    	}else{
	    		alert('Falsch!')
	    	}
	    });

	    var intervalID = setInterval(function () {
	        setColors();
	    }, 1000);

	}
	load();
    </script>
</body>
</html>